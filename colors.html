<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paint Color Gallery - Sahu Paints</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Poppins', system-ui; background: #f5f6fa; color: #222; min-height: 100vh; }
.container { max-width: 1200px; margin: 0 auto; padding: 16px; }
.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; background: linear-gradient(135deg, #ffffff, #ffe5e5); padding: 16px; border-radius: 14px; box-shadow: 0 8px 20px rgba(0,0,0,0.06); }
.header h1 { font-size: 28px; display: flex; align-items: center; gap: 10px; }
.back-btn { background: #c62828; color: white; border: none; padding: 10px 16px; border-radius: 999px; cursor: pointer; font-size: 12px; text-decoration: none; display: inline-block; transition: all 0.12s; }
.back-btn:hover { transform: translateY(-1px); box-shadow: 0 10px 22px rgba(198,40,40,0.65); }
.subtitle { color: #777; margin-bottom: 16px; text-align: center; font-size: 14px; }
.tabs { display: flex; gap: 8px; margin-bottom: 16px; padding: 8px; background: white; border-radius: 12px; box-shadow: 0 8px 16px rgba(0,0,0,0.05); }
.tab-btn { background: #fafafa; border: 1px solid #e0e0e0; padding: 8px 16px; border-radius: 12px; cursor: pointer; font-size: 12px; transition: all 0.16s; }
.tab-btn.active { background: #c62828; color: white; border-color: #c62828; }
.tab-content { display: none; }
.tab-content.active { display: block; }
.filter-row { display: flex; gap: 8px; margin-bottom: 12px; flex-wrap: wrap; align-items: center; }
.chip { padding: 6px 10px; border-radius: 999px; border: 1px solid #e0e0e0; font-size: 11px; background: #fafafa; color: #777; cursor: pointer; transition: all 0.16s; }
.chip.active { background: #ffe5e5; border-color: #c62828; color: #c62828; }
.search-input { flex: 1 1 140px; min-width: 120px; border-radius: 999px; border: 1px solid #e0e0e0; padding: 7px 12px; font-size: 12px; outline: none; background: #fafafa; }
.search-input:focus { border-color: #c62828; background: white; }
.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; }
.color-card { background: white; border-radius: 14px; overflow: hidden; box-shadow: 0 8px 16px rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.03); cursor: pointer; display: flex; flex-direction: column; transition: all 0.14s; }
.color-card:hover { transform: translateY(-3px); box-shadow: 0 10px 22px rgba(0,0,0,0.08); }
.color-swatch { height: 90px; background: #ccc; }
.color-card-body { padding: 8px 10px 10px; display: flex; flex-direction: column; gap: 4px; }
.color-name { font-size: 13px; font-weight: 500; }
.color-code { font-size: 10px; color: #777; font-family: monospace; }
.image-card { background: white; border-radius: 14px; overflow: hidden; box-shadow: 0 8px 16px rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.03); display: flex; flex-direction: column; transition: all 0.14s; }
.image-card:hover { transform: translateY(-3px); box-shadow: 0 10px 22px rgba(0,0,0,0.08); }
.image-wrapper { position: relative; width: 100%; padding-top: 70%; overflow: hidden; }
.image-wrapper img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
.image-body { padding: 8px 10px; display: flex; flex-direction: column; gap: 4px; font-size: 11px; }
.empty-msg { text-align: center; padding: 30px; color: #888; grid-column: 1 / -1; }
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1>üé® Paint Color Gallery</h1>
<a href="index.html" class="back-btn">‚Üê Back to Home</a>
</div>
<div class="subtitle">Explore color palettes with beautiful interior & exterior references</div>
<div class="tabs">
<button class="tab-btn active" onclick="switchTab('colors')">Color Gallery</button>
<button class="tab-btn" onclick="switchTab('gallery')">Shop Gallery</button>
</div>
<div id="colors" class="tab-content active">
<div id="colorGallery"></div>
<div id="colorEmptyMsg" class="empty-msg" style="display:none;">No colors added yet</div>
</div>
<div id="gallery" class="tab-content">
<div class="filter-row">
<div class="chip active" data-filter="all" onclick="filterShopGallery(this)">All</div>
<div class="chip" data-filter="interior" onclick="filterShopGallery(this)">Interior</div>
<div class="chip" data-filter="exterior" onclick="filterShopGallery(this)">Exterior</div>
<div class="chip" data-filter="ceiling" onclick="filterShopGallery(this)">Ceiling</div>
<div class="chip" data-filter="kids" onclick="filterShopGallery(this)">Kids room</div>
<input type="text" id="shopSearch" class="search-input" placeholder="Search images..." oninput="filterShopGallery()">
</div>
<div id="shopGallery" class="grid"></div>
<div id="shopEmptyMsg" class="empty-msg" style="display:none;">No images added yet</div>
</div>
</div>
<script>
const COLORS_KEY = "sahu_paints_colors_v1";
const IMAGES_KEY = "sahu_paints_images_v1";
let allColors = [];
let allImages = [];
let currentShopFilter = 'all';
let currentShopSearch = '';

function loadData() {
try {
allColors = JSON.parse(localStorage.getItem(COLORS_KEY) || "[]");
allImages = JSON.parse(localStorage.getItem(IMAGES_KEY) || "[]");
} catch (e) {
allColors = [];
allImages = [];
}
}

function switchTab(tab) {
document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
document.getElementById(tab).classList.add('active');
event.target.classList.add('active');
if (tab === 'colors') renderColors();
if (tab === 'gallery') renderShopGallery();
}

function renderColors() {
const container = document.getElementById('colorGallery');
const emptyMsg = document.getElementById('colorEmptyMsg');
container.innerHTML = '';

if (allColors.length === 0) {
emptyMsg.style.display = 'block';
return;
}
emptyMsg.style.display = 'none';

const grouped = {};
allColors.forEach(c => {
const seg = c.segment || 'other';
if (!grouped[seg]) grouped[seg] = [];
grouped[seg].push(c);
});

const order = ['interior', 'exterior', 'ceiling', 'kids', 'other'];
const names = {interior: 'üè† Interior', exterior: 'üå≥ Exterior', ceiling: '‚ú® Ceiling', kids: 'üé® Kids room', other: 'üìå Other'};

order.forEach(seg => {
if (!grouped[seg]) return;
const section = document.createElement('div');
section.innerHTML = `<div style="font-size:14px;font-weight:600;margin-top:20px;margin-bottom:10px;">${names[seg]}</div>`;
const grid = document.createElement('div');
grid.className = 'grid';
grouped[seg].forEach(c => {
const card = document.createElement('div');
card.className = 'color-card';
const swatch = document.createElement('div');
swatch.className = 'color-swatch';
swatch.style.background = c.hex || '#ccc';
const body = document.createElement('div');
body.className = 'color-card-body';
body.innerHTML = `<div class="color-name">${c.name || 'Unnamed'}</div><div class="color-code">${c.code || c.hex}</div>`;
card.appendChild(swatch);
card.appendChild(body);
grid.appendChild(card);
});
section.appendChild(grid);
container.appendChild(section);
});
}

function renderShopGallery() {
const container = document.getElementById('shopGallery');
const emptyMsg = document.getElementById('shopEmptyMsg');
container.innerHTML = '';

let filtered = allImages;
if (currentShopFilter !== 'all') {
filtered = filtered.filter(img => (img.segment || 'other') === currentShopFilter);
}
if (currentShopSearch) {
const term = currentShopSearch.toLowerCase();
filtered = filtered.filter(img => 
(img.title && img.title.toLowerCase().includes(term)) ||
(img.area && img.area.toLowerCase().includes(term)) ||
(img.desc && img.desc.toLowerCase().includes(term))
);
}

if (filtered.length === 0) {
emptyMsg.style.display = 'block';
return;
}
emptyMsg.style.display = 'none';

filtered.forEach(img => {
const card = document.createElement('div');
card.className = 'image-card';
const wrap = document.createElement('div');
wrap.className = 'image-wrapper';
const imgEl = document.createElement('img');
imgEl.src = img.data;
imgEl.alt = img.title || 'Shop image';
wrap.appendChild(imgEl);
const body = document.createElement('div');
body.className = 'image-body';
body.innerHTML = `<strong>${img.title || 'Photo'}</strong>${img.area ? `<div style="color:#777;">${img.area}</div>` : ''}`;
card.appendChild(wrap);
card.appendChild(body);
container.appendChild(card);
});
}

function filterShopGallery(chip) {
if (chip) {
document.querySelectorAll('[data-filter]').forEach(el => el.classList.remove('active'));
chip.classList.add('active');
currentShopFilter = chip.dataset.filter;
}
const searchInput = document.getElementById('shopSearch');
if (searchInput) {
currentShopSearch = searchInput.value;
}
renderShopGallery();
}

loadData();
renderColors();

window.addEventListener('storage', (e) => {
if (e.key === COLORS_KEY || e.key === IMAGES_KEY) {
loadData();
const activeTab = document.querySelector('.tab-content.active');
if (activeTab.id === 'colors') renderColors();
else renderShopGallery();
}
});
</script>
</body>
</html>
